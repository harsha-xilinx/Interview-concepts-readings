APB -> used for simple peripherals -> its a low bandwidth, low power bus.
Used to access low speed peripherals like UART, GPIO ...
IDLE Phase: PSEL->0, PENABLE ->0
SETUP Phase: PSEL->1, PENABLE ->  0
ACCESS Phase: PSEL->1, PENABLE -> 1

***************What happens if PENABLE is high in the setup phase?
Protocol violation.  PENABLE must only assert after setup phase.

Can PADDR change during access phase?
No. Address must remain stable during access + wait states.

What is the role of PSEL vs PENABLE?
PSEL selects the peripheral (start of transfer)
PENABLE indicates active access (2nd phase

Does APB support byte-lane strobes? (like AXI/AHB)
No. APB has no byte strobes. Data width fixed.

Is APB synchronous or asynchronous?
Fully synchronous to PCLK.

43. Difference between APB2 and APB3?
APB2
No PREADY, No PSLVERR
All transfers are fixed 2-cycle.

APB3
Adds PREADY, PSLVERR
Supports wait states + error response.

Difference between APB3 and APB4?
APB4 adds PSTRB and PPROT.
PSTRB ‚Üí byte enable
PPROT ‚Üí protection signals for security level

8. Is APB pipelined?
No. APB supports one transfer at a time, no burst or pipeline.

9. Can APB do burst transfers?
No.Each transfer is single-cycle address + access sequence.

When is PSLVERR sampled ?
Valid only when:
PSEL = 1
PENABLE = 1
PREADY = 1 (end of access)

15. What is meant by APB ‚Äúnon-overlapping‚Äù transfers?
A new transfer cannot begin until the current one finishes.
No overlap of address and data phases unlike AXI

24. Does APB support out-of-order or multiple outstanding transactions?
No.It is strictly in-order.

25. Why is APB preferred for register access?
Because it is:
Low power
Simple timing
Easy for RTL
Low area overhead
Goo for slow peripherals: Register access typically does not need high bandwidth. APB is optimized for low-speed control/status registers, not data streaming.
Simple, non pipeined: No bursts, no out-of-order transfers, no complex handshakes. Perfect for simple register reads/writes


How does APB saves Power ?
APB saves power by keeping all signals stable in idle cycles and only toggling lines during actual transfers.
APB transfers are not pipelined, so signals stay stable most of the time.
During idle cycles, the key control signals remain inactive:
PSEL = 0
PENABLE = 0
With no active transfer, address, write, and control lines do not toggle.
Since dynamic power ‚àù switching activity, fewer transitions mean lower dynamic power consumption.

Is tri-state used in APB?
No. APB does not allow tri-state drivers.
The bus uses multiplexers to select which slave drives PRDATA, PREADY, and PSLVERR.
HOW APB DATA ROUTING WORKS INTERNALLY ?
PRDATA = (PSEL[0]) ? PRDATA0 :
         (PSEL[1]) ? PRDATA1 :
         (PSEL[2]) ? PRDATA2 :
         ...
         default_value;

Does APB support multiple masters?
No. APB (Advanced Peripheral Bus) does not support multiple masters.
APB is designed as a simple, low-power, single-master bus, typically used for accessing low-bandwidth peripherals like timers, UART, GPIO, watchdog, etc.
Why APB is single-master?
Why APB is single-master?
APB has no arbitration mechanism.
There is no concept of multiple masters requesting the bus.
All transfers use PSELx signals generated by a single master (usually the APB bridge).

| Cycle | PADDR | PSEL | PENABLE | Meaning                                          |
| ----- | ----- | ---- | ------- | ------------------------------------------------ |
| T1    | Addr1 | 1    | 0       | Setup phase                                      |
| T2    | Addr1 | 1    | 1       | Access phase                                     |
| T3    | Addr2 | 1    | 0       | Next setup phase to SAME slave ‚Üí PSEL stays high |
| T4    | Addr2 | 1    | 1       | Access phase                                     |


If Slave changes, PSEL can immediately go HIGH for that peripheral after Access phase of previous cycle.

| Cycle | PSEL1 | PSEL2 | PENABLE | Explanation                        |
| ----- | ----- | ----- | ------- | ---------------------------------- |
| T1    | 1     | 0     | 1       | Access for Slave1                  |
| T2    | 0     | 1     | 0       | Setup for Slave2 ‚Üí safe transition |
| T3    | 0     | 1     | 1       | Access for Slave2                  |

if there are multiple continuous transfers in APB, PSEL needs to be made high. right ?
Yes ‚Äî PSEL must be HIGH for every APB transfer.
But here‚Äôs the precise, interview-correct nuance üëá

Case 1Ô∏è‚É£: Multiple continuous transfers to the same slave ‚úÖ

PSEL can remain HIGH continuously

PENABLE is toggled LOW ‚Üí HIGH for each transfer

Timeline example
Cycle:     1      2      3      4      5      6
PSEL:      1      1      1      1      1      1
PENABLE:   0      1      0      1      0      1
Transfer:  setup  acc   setup  acc   setup  acc

‚úî Valid
‚úî Common in real designs
‚úî Efficient

Case 2Ô∏è‚É£: Transfers to different slaves ‚ùå
Current PSELx must go LOW
Next slave‚Äôs PSELy goes HIGH
Only one PSEL asserted at a time

Case 3Ô∏è‚É£: Single isolated transfers
PSEL goes HIGH for setup
Goes LOW after access
Key interview line ‚≠ê

‚ÄúFor continuous APB transfers to the same slave, PSEL may remain asserted, while PENABLE toggles to indicate each access.‚Äù
